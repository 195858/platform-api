version: "3.7"
services:
  mongodb:
    container_name: integration-mongodb
    image : mongo:latest
    # volumes:
    #   - mongodb_data_container:/database
    ports:
      - ${APIM_INTEGRATION_TEST_MONGO_PORT}:${APIM_INTEGRATION_TEST_MONGO_PORT}
    # restart: unless-stopped
    environment:
      MONGO_INITDB_DATABASE: "${APIM_INTEGRATION_TEST_MONGO_DATABASE}"
      MONGO_INITDB_ROOT_USERNAME: "${APIM_INTEGRATION_TEST_MONGO_ROOT_USERNAME}"
      MONGO_INITDB_ROOT_PASSWORD: "${APIM_INTEGRATION_TEST_MONGO_ROOT_PASSWORD}"
    volumes:
      - ${initMongoFile}:/docker-entrypoint-initdb.d/init-mongo.js:ro
# volumes:
#   mongodb_data_container:
